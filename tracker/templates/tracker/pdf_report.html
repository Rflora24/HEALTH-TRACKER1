<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Health Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2em; }
        h1, h2 { color: #2c3e50; }
        table { width: 100%; border-collapse: collapse; margin-top: 1em; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        th { background: #f8f9fa; }
        .summary { margin: 1em 0; }
        .summary span { display: inline-block; min-width: 120px; }
    </style>
</head>
<body>
    <h1>Health Report</h1>
    <p><strong>User:</strong> {{ user.get_full_name }} ({{ user.username }})</p>
    <p><strong>Generated:</strong> {{ generated_date }}</p>
    <p><strong>Date Range:</strong> {{ date_range }}</p>
    <div class="summary">
        <span><strong>Total Records:</strong> {{ total_records }}</span>
        <span><strong>Avg Sleep:</strong> {{ avg_sleep }} hrs</span>
        <span><strong>Avg Water:</strong> {{ avg_water }} L</span>
        {% if avg_weight %}<span><strong>Avg Weight:</strong> {{ avg_weight }} kg</span>{% endif %}
    </div>
    <h2>Recent Health Records</h2>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Sleep (hrs)</th>
                <th>Water (L)</th>
                <th>Weight (kg)</th>
                <th>Height (cm)</th>
                <th>Mood</th>
                <th>Notes</th>
            </tr>
        </thead>
        <tbody>
        {% for record in records %}
            <tr>
                <td>{{ record.date }}</td>
                <td>{{ record.sleep_hours }}</td>
                <td>{{ record.water_intake }}</td>
                <td>{{ record.weight }}</td>
                <td>{{ record.height }}</td>
                <td>{{ record.mood }}</td>
                <td>{{ record.notes }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html> 